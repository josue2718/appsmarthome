<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles/home.css">
    <link rel="stylesheet" href="styles/switch.css">
    <link rel="stylesheet" href="styles/bar.css">
    <script src="views/navigation.js"></script>
    <script defer src="services/OnOffFoco.js"></script> <!-- Se carga el nuevo script -->
</head>
<body>
    <div class="app-container">

        <div class="nav">

        </div>

        <div class="select-devices" id="abrirMisDispositivos">
            <h2>Selecciona un dispositivo</h2>
            <div class="device-content">
               
            </div>


        </div>

        
        <div id="modal-confirmacion" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
            <p>¿Quieres cambiar a "Modo por Hora"?</p>
            <p>Encender: <input type="time" id="encender-time"></p>
            <p>Apagar: <input type="time" id="apagar-time"></p>
            <button id="confirmar-cambio">Confirmar</button>
            <button id="cancelar-cambio">Cancelar</button>
        </div>
        
        
        <div class="switch-container">
            <div class="border">
                <label class="switch" >
                    <input type="checkbox" id="automatico">
                    <span class="slider"></span>
                </label>
            </div>
            <p id="modo">Modo por hora</p>

            <div id="hora-config">
                <label>Encender: <p  id="prender-time"></p></label>
                <label>Apagar: <p  id="apagar-time"></p></label>
   
            </div>
        </div>

        <div class="btn-power">
            <button class="on-off" id="toggleButton">
                <img id="toggleImage" src="assets/OFF.svg" alt="Icono SVG">
                <p id="toggleText">Apagado</p>
            </button>
        </div>

        <div class="device">
            <button onclick="abrirMisDisp()">Seleccionar</button>
        </div>

        <nav class="bottom-var">
            <button onclick="monitoreoView()">
                <img src="assets/activity.svg" alt="Monitoreo">
                <p>Monitoreo</p>
            </button>

            <button onclick="inicioView()"> 
                <img src="assets/layout-grid.svg" alt="Inicio">
                <p>Inicio</p>
            </button>

            <button onclick="dispositivosView()">
                <img src="assets/monitor-speaker.svg" alt="Dispositivos">
                <p>Dispositivos</p>
            </button>
        </nav>

    </div>
    <script>
        // Función para abrir el contenedor
        function abrirMisDisp() {
          document.getElementById("abrirMisDispositivos").style.display = "block";
        }
    
        // Detectar clics fuera del contenedor para cerrarlo
        window.addEventListener('click', function(e) {
          const contenedor = document.getElementById("abrirMisDispositivos");
          const botonAbrir = document.querySelector(".device button");
    
          // Si el contenedor está visible y el clic no es dentro del contenedor ni en el botón
          if (contenedor.style.display === "block" &&
              !contenedor.contains(e.target) &&
              e.target !== botonAbrir) {
            contenedor.style.display = "none";
          }
        });
      </script>
          <script src="services/SelectDevice.js"></script>
          <script src="services/notificaciones.js"></script>
          <script src="services/mode.js"></script>
</body>
</html>